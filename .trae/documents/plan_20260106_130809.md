# Fix Language Selection and UI Issues

## 1. Fix Language Selection Flow

**Issue**: After language selection, the welcome page doesn't show up.

**Root Cause**: The issue is likely in the MainWindow.xaml.cs file, where the welcome window is created and shown after language selection. Let me verify this by checking the flow.

**Fix Plan**:
- Check if the welcome window is being properly instantiated and shown
- Verify if there's any condition that might be skipping the welcome window
- Ensure the dialog result from the language window is being properly handled

## 2. Fix Color Property Error

**Issue**: Main interface shows error: '#FF007ACC' is not a valid value for property 'Foreground'

**Root Cause**: In WPF, the `Foreground` property expects a `Brush` object, not a direct hex color string. The error occurs when trying to assign a hex string directly to Foreground instead of using a SolidColorBrush.

**Fix Plan**:
- Update all theme files to use proper SolidColorBrush definitions
- Ensure all Foreground properties are bound to brush resources, not direct color values
- Verify color formats are correct (ARGB format: #AARRGGBB or RGB format: #RRGGBB)

**Correct Color Format Examples**:
- `<SolidColorBrush x:Key="ForegroundBrush" Color="#FF007ACC"/>` (Correct)
- `<Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>` (Correct)
- `<TextBlock Foreground="{DynamicResource ForegroundBrush}" Text="Hello"/>` (Correct)

## 3. Enhance Language Selection UI and Dark Mode

**Issue**: Language selection window has basic UI and doesn't support dark mode.

**Fix Plan**:
1. **Update LanguageSelectionWindow.xaml**:
   - Replace hardcoded Light theme with dynamic theme loading
   - Improve layout and styling
   - Add proper dark mode support
   - Enhance visual appearance with modern design

2. **Improve LanguageSelectionWindow.xaml.cs**:
   - Add theme switching logic
   - Ensure dark mode is properly applied
   - Add better user experience features

3. **Ensure Theme Consistency**:
   - Verify the LanguageSelectionWindow uses the same theme system as the rest of the application
   - Ensure theme changes are properly propagated

## Implementation Steps

1. **Fix the color property error** by updating theme files
2. **Fix the language selection flow** by checking the MainWindow code
3. **Enhance the language selection UI** with dark mode support
4. **Test all fixes** to ensure they work correctly together

## Expected Results

- Language selection window appears with improved UI and dark mode support
- After language selection, the welcome window shows up correctly
- No color property errors in the main interface
- Smooth transition between different themes